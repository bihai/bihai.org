

{
    "title": "Ubuntu 安装黑客背单词Reciteword",
    "date": "0001-01-01 00:00:00 +0000 UTC",
    "type": "posts",
    "permalink" : "https://bihai.org/ubuntu-%E5%AE%89%E8%A3%85%E9%BB%91%E5%AE%A2%E8%83%8C%E5%8D%95%E8%AF%8Dreciteword/",
    "summary" : "Reciteword是一款中文界面的背单词软件（也称黑客背单词），功能比较强大。在Ubuntu中安装可能会遇到一些小困难，故在此说明一下。 ",
     "img" : "https:/bihai.org/images/masonary-post/post-2.jpg",
        
    "content" :"\u003cp\u003eReciteword是一款中文界面的背单词软件（也称黑客背单词），功能比较强大。在Ubuntu中安装可能会遇到一些小困难，故在此说明一下。\u003cbr\u003e\n本文介绍的是从源码编译安装的过程。\u003cbr\u003e\nTable of Contents\u003cbr\u003e\n1 下载及安装（转载部分）\u003cbr\u003e\n1.1 下载程序\u003cbr\u003e\n1.2 准备工具\u003cbr\u003e\n1.3 黑客背单词的安装\u003cbr\u003e\n2 遇到的编译错误\u003cbr\u003e\n3 问题解决\u003cbr\u003e\n1 下载及安装（转载部分）\u003cbr\u003e\n1.1 下载程序\u003cbr\u003e\nreciteword的网站是：\u003cbr\u003e\n作者提供了如下几个包，请按需下载源码包：\u003cbr\u003e\n主程序源码（必须） reciteword\u003c/p\u003e\n\u003cp\u003e课本（重要） reciteword-books\u003cbr\u003e\n词典（可选） reciteword-dicts\u003cbr\u003e\n皮肤（可选） reciteword-skins-rw\u003cbr\u003e\n真人发音 WyabdcRealPeopleTTS （可选，是stardict的真人语音）\u003cbr\u003e\n1.2 准备工具\u003cbr\u003e\n先安装编译需要的包\u003cbr\u003e\napt-get install libesd0-dev pkg-config libgtk2.0-dev esound\u003cbr\u003e\n如果是Ubuntu 8.04版本，安装时可能会出现删除pulseaudio-esound-compat，ubuntu-\ndesktop这两个文件，请之后再安装回去，如果不安装，进入桌面后桌面不成正常使用，我的方法是重启后按ctrl+alt+f1，进入控制台，打入以下命令：\u003cbr\u003e\nsudo apt-get install ubuntu-desktop就会安装这两个文件，重启后正常\n安装libesd0-alsa0，保证开启esd後，仍能用alsa。\u003cbr\u003e\napt-get install libesd-alsa0启用esd，这是reciteword播放声音所必须的：（假设是gnome环境）\u003cbr\u003e\n在菜单中：系统-\u0026gt;首选项-\u0026gt;音效，在打开的窗口中：音效-\u0026gt;允许软件混音(ESD)。\u003cbr\u003e\n为了使设置生效，建议你最好重新启动系统。\u003cbr\u003e\n1.3 黑客背单词的安装\u003cbr\u003e\n安装过程就没有什么特别的了，进入存有reciteword的文件后：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e　tar -xvfj reciteword-*.tar.bz2\n　　cd reciteword-0.*\n　　./configure –prefix=/usr\n　　make\n　　sudo make install \n　　2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e遇到的编译错误\u003cbr\u003e\nubuntu会出现这样编译出错\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ebookfile.cpp: In function ‘gchar* rw_book_get_value(const gchar*, gchar*, gint)’:\nbookfile.cpp:95: error: invalid conversion from ‘const char*’ to ‘gchar*’\nbookfile.cpp: In function ‘gint rw_book_get_file_info(gchar*, gchar**, gchar**, gchar**, gchar**, gchar**, gchar**)’:\nbookfile.cpp:140: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:153: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:154: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:155: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:156: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:157: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp: In function ‘BookFile* rw_book_open_file(gchar*)’:\nbookfile.cpp:228: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:229: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:230: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:231: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:232: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:233: warning: deprecated conversion from string constant to ‘gchar*’\nbookfile.cpp:209: warning: ignoring return value of ‘size_t fread(void*, size_t, size_t, FILE*)’, declared with attribute warn_unused_result\nmake[3]: *** [bookfile.o] 错误 1\nmake[3]:正在离开目录 `/tmp/word/reciteword-0.8.4/src'\nmake[2]: *** [all-recursive] 错误 1\nmake[2]:正在离开目录 `/tmp/word/reciteword-0.8.4/src'\nmake[1]: *** [all-recursive] 错误 1\nmake[1]:正在离开目录 `/tmp/word/reciteword-0.8.4'\nmake: *** [all] 错误 2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e3 问题解决\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e　bookfile.c\npp:95: error: invalid conversion from ‘const char*’ to ‘gchar*\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e根据以上错误找到 bookfile.cpp 在头文件处加上两句代码\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e#include \u0026quot;bookfile.h\u0026quot;\n#include \u0026lt;cstring\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;sys/stat.h\u0026gt;\n#include \u0026lt;fstream\u0026gt;\n#include \u0026lt;string\u0026gt;\n\nconst gchar* str1;\nconst gchar* str2 = strchr(str1, 'a');\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e再找到函数 （大概在90行里）\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003estatic gchar *\nrw_book_get_value (const gchar * str1, gchar * str2,gint utf8)\n-----------------------------------------------------\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e把原来的 tmp1 = strstr (str1, str2);\u003cbr\u003e\n改为 tmp1 = (gchar*)strstr (str1, str2);\u003cbr\u003e\n经过上面的改动 再编译即可\u003c/p\u003e\n\u003cp\u003e编译成功，要安装到/usr/local/share/reciteword/：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003etar -xjvf reciteword-books-0.8.5.tar.bz2 -C /usr/local/share/reciteword/\ntar -xjvf reciteword-dicts-0.8.2.tar.bz2 -C /usr/local/share/reciteword/\ntar -xjvf reciteword-skins-rw-0.8.2.tar.bz2 -C /usr/local/share/reciteword/skins\ntar -xjvf reciteword-skins-rw_en-0.8.2.tar.bz2 -C /usr/local/share/reciteword/skins\ntar -xjvf WyabdcRealPeopleTTS.tar.bz2 -C /usr/share\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e搞定\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"javascript:;\" rel=\"\"\u003e 点赞  1  \u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"javascript:;\" rel=\"\"\u003e 收藏  \u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"javascript:;\" rel=\"\"\u003e 分享 \u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cpre\u003e\u003ccode\u003e* 文章举报 \n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e \u003cimg\r\n        class=\"lazyload\"\r\n       style=\"width:100%;hight:auto;\" src=\"https://profile.csdnimg.cn/2/1/1/3_thriller\"\r\n        data-srcset=\"https://profile.csdnimg.cn/2/1/1/3_thriller, https://profile.csdnimg.cn/2/1/1/3_thriller 1.5x, https://profile.csdnimg.cn/2/1/1/3_thriller 2x\"\r\n        data-sizes=\"auto\"\r\n        alt=\"https://profile.csdnimg.cn/2/1/1/3_thriller\"\r\n        title=\"https://profile.csdnimg.cn/2/1/1/3_thriller\" /\u003e\n\u003ca href=\"https://blog.csdn.net/thriller\" target=\"_blank\" rel=\"noopener noreffer\"\u003e\u003cimg\r\n        class=\"lazyload\"\r\n       style=\"width:100%;hight:auto;\" src=\"https://g.csdnimg.cn/static/user-reg-year/1x/20.png\"\r\n        data-srcset=\"https://g.csdnimg.cn/static/user-reg-year/1x/20.png, https://g.csdnimg.cn/static/user-reg-year/1x/20.png 1.5x, https://g.csdnimg.cn/static/user-reg-year/1x/20.png 2x\"\r\n        data-sizes=\"auto\"\r\n        alt=\"https://g.csdnimg.cn/static/user-reg-year/1x/20.png\"\r\n        title=\"https://g.csdnimg.cn/static/user-reg-year/1x/20.png\" /\u003e\n\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://blog.csdn.net/thriller\" target=\"_blank\" rel=\"noopener noreffer\"\u003e thriller \u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e发布了19 篇原创文章  ·  获赞 18  ·  访问量 5万+\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://im.csdn.net/im/main.html?userName=thriller\" target=\"_blank\" rel=\"noopener noreffer\"\u003e 私信 \u003c/a\u003e 关注\u003c/p\u003e\n"}