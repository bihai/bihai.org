<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Ubuntu 安装黑客背单词Reciteword</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is meta description">
  <meta name="author" content="Themefisher">
  <meta name="generator" content="Hugo 0.67.1" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="http://bihai.org/css/bootstrap.min.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/slick.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/font-awesome.min.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/animate.min.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/venobox.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/main.css">
  
  <link rel="stylesheet" href="http://bihai.org/css/responsive.css">
  

  <!--Favicon-->
  <link rel="shortcut icon" href="http://bihai.org/images/favicon.png" type="image/x-icon">
  <link rel="icon" href="http://bihai.org/images/favicon.png" type="image/x-icon">

</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- Navigation Start  -->

<nav class="navigation">
	<div class="container">
		<div class="block">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
							data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<!-- logo -->
						<a class="navbar-brand" href="http://bihai.org/">
							<img class="img-responsive" src="http://bihai.org/images/logo.png" alt="bihai.org">
						</a>
						<!-- logo -->
					</div>

					
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav navbar-right" id="top-nav">
							
							<li><a href="http://bihai.org/#hero-area">Home</a></li>
							
							<li><a href="http://bihai.org/#about-us">About Us</a></li>
							
							<li><a href="http://bihai.org/#blog">Blog</a></li>
							
							<li><a href="http://bihai.org/#price">Price</a></li>
							
							<li><a href="http://bihai.org/#subscribe">News</a></li>
							
							<li><a href="http://bihai.org/#contact-us">Contact Us</a></li>
							
						</ul>
					</div>
					
				</div>
			</nav>
		</div>
	</div>
</nav><section class="section blog-single-page">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2 text-center">
                <img class="img-responsive post-thumb d-inline-block" src="http://bihai.org/" alt="blog-image">
                <h1 class="post-title">Ubuntu 安装黑客背单词Reciteword</h1>
                <ul class="list-inline mb-50 post-meta">
                    <li class="list-inline-item"></li>
                    <li class="list-inline-item">Monday, Jan 1, 0001</li>
                </ul>
            </div>
            <div class="col-md-8 col-md-offset-2">
                <div class="post-single-content">
                    <p>Reciteword是一款中文界面的背单词软件（也称黑客背单词），功能比较强大。在Ubuntu中安装可能会遇到一些小困难，故在此说明一下。<br>
本文介绍的是从源码编译安装的过程。<br>
Table of Contents<br>
1 下载及安装（转载部分）<br>
1.1 下载程序<br>
1.2 准备工具<br>
1.3 黑客背单词的安装<br>
2 遇到的编译错误<br>
3 问题解决<br>
1 下载及安装（转载部分）<br>
1.1 下载程序<br>
reciteword的网站是：<br>
作者提供了如下几个包，请按需下载源码包：<br>
主程序源码（必须） reciteword</p>
<p>课本（重要） reciteword-books<br>
词典（可选） reciteword-dicts<br>
皮肤（可选） reciteword-skins-rw<br>
真人发音 WyabdcRealPeopleTTS （可选，是stardict的真人语音）<br>
1.2 准备工具<br>
先安装编译需要的包<br>
apt-get install libesd0-dev pkg-config libgtk2.0-dev esound<br>
如果是Ubuntu 8.04版本，安装时可能会出现删除pulseaudio-esound-compat，ubuntu-
desktop这两个文件，请之后再安装回去，如果不安装，进入桌面后桌面不成正常使用，我的方法是重启后按ctrl+alt+f1，进入控制台，打入以下命令：<br>
sudo apt-get install ubuntu-desktop就会安装这两个文件，重启后正常
安装libesd0-alsa0，保证开启esd後，仍能用alsa。<br>
apt-get install libesd-alsa0启用esd，这是reciteword播放声音所必须的：（假设是gnome环境）<br>
在菜单中：系统-&gt;首选项-&gt;音效，在打开的窗口中：音效-&gt;允许软件混音(ESD)。<br>
为了使设置生效，建议你最好重新启动系统。<br>
1.3 黑客背单词的安装<br>
安装过程就没有什么特别的了，进入存有reciteword的文件后：</p>
<pre><code>　tar -xvfj reciteword-*.tar.bz2
　　cd reciteword-0.*
　　./configure –prefix=/usr
　　make
　　sudo make install 
　　2
</code></pre>
<p>遇到的编译错误<br>
ubuntu会出现这样编译出错</p>
<pre><code>bookfile.cpp: In function ‘gchar* rw_book_get_value(const gchar*, gchar*, gint)’:
bookfile.cpp:95: error: invalid conversion from ‘const char*’ to ‘gchar*’
bookfile.cpp: In function ‘gint rw_book_get_file_info(gchar*, gchar**, gchar**, gchar**, gchar**, gchar**, gchar**)’:
bookfile.cpp:140: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:153: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:154: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:155: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:156: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:157: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp: In function ‘BookFile* rw_book_open_file(gchar*)’:
bookfile.cpp:228: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:229: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:230: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:231: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:232: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:233: warning: deprecated conversion from string constant to ‘gchar*’
bookfile.cpp:209: warning: ignoring return value of ‘size_t fread(void*, size_t, size_t, FILE*)’, declared with attribute warn_unused_result
make[3]: *** [bookfile.o] 错误 1
make[3]:正在离开目录 `/tmp/word/reciteword-0.8.4/src'
make[2]: *** [all-recursive] 错误 1
make[2]:正在离开目录 `/tmp/word/reciteword-0.8.4/src'
make[1]: *** [all-recursive] 错误 1
make[1]:正在离开目录 `/tmp/word/reciteword-0.8.4'
make: *** [all] 错误 2
</code></pre>
<p>3 问题解决</p>
<pre><code>　bookfile.c
pp:95: error: invalid conversion from ‘const char*’ to ‘gchar*
</code></pre>
<p>根据以上错误找到 bookfile.cpp 在头文件处加上两句代码</p>
<pre><code>#include &quot;bookfile.h&quot;
#include &lt;cstring&gt;
#include &lt;cstdio&gt;
#include &lt;sys/stat.h&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

const gchar* str1;
const gchar* str2 = strchr(str1, 'a');
</code></pre>
<p>再找到函数 （大概在90行里）</p>
<pre><code>static gchar *
rw_book_get_value (const gchar * str1, gchar * str2,gint utf8)
-----------------------------------------------------
</code></pre>
<p>把原来的 tmp1 = strstr (str1, str2);<br>
改为 tmp1 = (gchar*)strstr (str1, str2);<br>
经过上面的改动 再编译即可</p>
<p>编译成功，要安装到/usr/local/share/reciteword/：</p>
<pre><code>tar -xjvf reciteword-books-0.8.5.tar.bz2 -C /usr/local/share/reciteword/
tar -xjvf reciteword-dicts-0.8.2.tar.bz2 -C /usr/local/share/reciteword/
tar -xjvf reciteword-skins-rw-0.8.2.tar.bz2 -C /usr/local/share/reciteword/skins
tar -xjvf reciteword-skins-rw_en-0.8.2.tar.bz2 -C /usr/local/share/reciteword/skins
tar -xjvf WyabdcRealPeopleTTS.tar.bz2 -C /usr/share
</code></pre>
<p>搞定</p>
<ul>
<li><a href=""> 点赞  1  </a></li>
<li><a href=""> 收藏  </a></li>
<li><a href=""> 分享 </a></li>
<li>
<pre><code>* 文章举报 
</code></pre>
</li>
</ul>
<p><a href="https://blog.csdn.net/thriller"> <img src="https://profile.csdnimg.cn/2/1/1/3_thriller" alt="">
<img src="https://g.csdnimg.cn/static/user-reg-year/1x/20.png" alt="">
</a></p>
<p><a href="https://blog.csdn.net/thriller"> thriller </a></p>
<p>发布了19 篇原创文章  ·  获赞 18  ·  访问量 5万+</p>
<p><a href="https://im.csdn.net/im/main.html?userName=thriller"> 私信 </a> 关注</p>

                </div>
            </div>
        </div>
    </div>
</section>


<section id="footer">
	<div class="container">
		<div class="row">
			<div class="col-md-4">
				<div class="block wow fadeInLeft" data-wow-delay="200ms">
					<h3> CONTACT <span>INFO</span>  </h3>
					<div class="info">
						<ul>
							
							<li>
								<h4><i class="fa fa-phone"></i>Telephone</h4>
								<p>016742 323313</p>
							</li>
							
							<li>
								<h4><i class="fa fa-map-marker"></i>Address</h4>
								<p>2046 Blue Spruce Lane Laurel Canada</p>
							</li>
							
							<li>
								<h4><i class="fa fa-envelope"></i>E mail</h4>
								<p><a href="mailto:rest@gmail.com">rest@gmail.com</a> - <a href="mailto:rest@mail.ru">rest@mail.ru</a></p>
							</li>
							
						</ul>
					</div>
				</div>
			</div>
			
			<div class="col-md-4">
				<div class="block wow fadeInLeft" data-wow-delay="700ms">
					<h3> LATEST <span>BLOG POSTS</span> </h3>
					<div class="blog">
						<ul>
							
							<!-- post -->
							<li>
								<h4><a href="http://bihai.org/red-pepper-miso-wings-2/">Red Pepper Miso Wings 2</a></h4>
								<p>26 Dec 2018</p>
							</li>
							
							<!-- post -->
							<li>
								<h4><a href="http://bihai.org/red-pepper-miso-wings/">Red Pepper Miso Wings</a></h4>
								<p>26 Dec 2018</p>
							</li>
							
							<!-- post -->
							<li>
								<h4><a href="http://bihai.org/homestyle-chicken-pot-pie/">Homestyle Chicken Pot Pie</a></h4>
								<p>26 Dec 2018</p>
							</li>
							
						</ul>
					</div>
				</div>
			</div>
			
			<div class="col-md-4">
				<div class="block wow fadeInLeft" data-wow-delay="1100ms">
					<div class="gallary">
						<h3> PHOTO <span>STREAM</span> </h3>
						<ul class="gallery">
							
							<li><a href="http://bihai.org/images/slider/slider-img-1.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-1.jpg" alt=""></a></li>
							
							<li><a href="http://bihai.org/images/slider/slider-img-2.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-2.jpg" alt=""></a></li>
							
							<li><a href="http://bihai.org/images/slider/slider-img-3.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-3.jpg" alt=""></a></li>
							
							<li><a href="http://bihai.org/images/slider/slider-img-4.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-4.jpg" alt=""></a></li>
							
							<li><a href="http://bihai.org/images/slider/slider-img-1.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-1.jpg" alt=""></a></li>
							
							<li><a href="http://bihai.org/images/slider/slider-img-2.jpg" class="venobox" data-gall="footerGallery"><img class="img-responsive"
										src="http://bihai.org/images/slider/slider-img-2.jpg" alt=""></a></li>
							
						</ul>
					</div>
					<div class="social-media-link">
						<h3> Follow <span>US</span> </h3>
						<ul>
							
							<li><a href="https://fb.com/themefisher"><i class="fa fa-facebook"></i></a></li>
							
							<li><a href="https://fb.com/themefisher"><i class="fa fa-twitter"></i></a></li>
							
							<li><a href="https://fb.com/themefisher"><i class="fa fa-dribbble"></i></a></li>
							
							<li><a href="https://fb.com/themefisher"><i class="fa fa-instagram"></i></a></li>
							
						</ul>
					</div>
				</div>
			</div>
			
		</div>
	</div>
</section>


<footer id="footer-bottom">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<div class="block">
					<p>Copyright 2020 - All Rights Reserved. Design and Developed By Themefisher.com</p>
				</div>
			</div>
		</div>
	</div>
</footer>

<!-- JS Plugins -->

<script src="http://bihai.org/js/jquery.min.js"></script>

<script src="http://bihai.org/js/bootstrap.min.js"></script>

<script src="http://bihai.org/js/slick.min.js"></script>

<script src="http://bihai.org/js/wow.min.js"></script>

<script src="http://bihai.org/js/venobox.min.js"></script>

<script src="http://bihai.org/js/main.js"></script>


<!-- google analitycs -->

<script>
	(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date();
		a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
	ga('create', 'Your ID', 'auto');
	ga('send', 'pageview');
</script>
</body>
</html>